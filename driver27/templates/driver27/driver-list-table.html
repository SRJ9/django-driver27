{% load champion_filter %}
<table class="table">
    <tr>
        <th>Points</th>
        <th>Driver</th>
        <th>Team</th>
        {% if pending_races %}
        {% for pending_race in pending_races %}
        <th>{{ pending_race }}</th>
        {% endfor %}
        <th>Total</th>
        {% endif %}
    </tr>
    {% for points,driver,team, positions in rank %}
        <tr>
        <td id="points_{{ forloop.counter }}">{{ points }}</td>
        <td>{{ driver }}
            {% if forloop.counter == 1%}
                {{ season.pk | champion_filter | safe}}
            {% endif %}
        </td>
        <td>{{ team }}</td>
        {% if pending_races %}
        {% for pending_race in pending_races %}
        <td><input type="number" size="3" class="contender_{{ forloop.parentloop.counter }} race_{{ pending_race }}"
            onchange="change_results({{ pending_race }})"
                   min="1" max="99" data-contender="{{ forloop.parentloop.counter }}"
        /></td>
        {% endfor %}
        <td id="total_{{ forloop.counter }}" class="total_points">{{ points }} </td>
        {% endif %}
        </tr>
    {% endfor %}

    </table>
